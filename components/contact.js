import { motion } from "framer-motion";
import axios from "axios";

// toastify
import { toast } from "react-toastify";

// react
import { useEffect, useState } from "react";

export default function Contact() {
  const [isSending, setIsSending] = useState(false);

  const handleOnFormSubmit = (params) => {
    setIsSending(true);
    params.preventDefault();

    const userFormData = {
      name: params.target[0].value,
      email: params.target[1].value,
      mobile: params.target[2].value,
      message: params.target[3].value,
    };

    toast
      .promise(axios.post("/api/submit-form-data", userFormData), {
        pending: "Sending message...",
        success: "Your message has been sent!",
        error: "Failed to send message.",
      })
      .then((e) => {
        setIsSending(false);
        params.target.reset();
      })
      .catch((e) => {
        setIsSending(false);
      });
  };

  return (
    <section className="contact" id="contact">
      <div className="container">
        <div className="wrapper">
          <div className="title">
            <h1>Contact</h1>
          </div>
          <div className="contact-main">
            <svg
              width="860"
              height="553"
              viewBox="0 0 860 553"
              fill="none"
              xmlns="http://www.w3.org/2000/svg"
              className="logo"
            >
              <path
                opacity="0.995"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M259.941 1.52734C260.277 3.73137 260.592 5.97581 260.883 8.26336C281.738 52.2684 286.493 97.9844 275.145 145.409C270.274 165.342 263.636 184.653 255.232 203.338C244.167 227.211 231.789 250.291 218.097 272.585C200.671 300.448 182.822 328.019 164.547 355.303C154.058 371.294 144.102 387.641 134.678 404.341C123.546 424.218 114.665 445.054 108.038 466.851C100.137 495.186 98.2534 523.924 102.387 553.072C110.118 609.86 133.529 658.898 172.62 700.187C210.546 739.054 256.249 764.066 309.723 775.226C249.664 786.443 192.528 778.001 138.311 749.899C78.0122 716.82 36.526 667.738 13.8549 602.649C0.959909 563.836 -2.35802 524.229 3.89841 483.826C8.4461 459.838 16.1583 436.935 27.0405 415.119C37.885 393.749 50.083 373.272 63.6372 353.686C70.082 344.45 76.6291 335.289 83.2811 326.203C99.938 303.956 116.802 281.861 133.871 259.921C152.287 235.976 169.779 211.368 186.344 186.094C204.615 158.043 220.314 128.493 233.435 97.4482C246.129 66.5461 254.966 34.5715 259.941 1.52734Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.995"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M316.72 52.1823C541.682 52.1365 766.645 52.1823 991.607 52.317C994.613 53.1711 996.539 55.1003 997.393 58.11C997.573 296.745 997.573 535.378 997.393 774.014C996.539 777.023 994.613 778.953 991.607 779.807C959.316 779.987 927.024 779.987 894.733 779.807C882.864 751.464 871.831 722.858 861.635 693.99C865.722 697.679 869.847 701.316 874.013 704.902C896.318 719.77 920.628 724.439 946.937 718.913C953.484 717.566 959.854 715.68 966.043 713.255C967.641 711.089 967.372 709.203 965.236 707.597C930.913 690.274 894.585 679.947 856.253 676.611C854.035 675.919 852.644 674.437 852.082 672.165C851.592 670.042 852.176 668.291 853.831 666.911C863.919 661.231 873.249 654.495 881.817 646.703C888.751 640.479 895.524 634.056 902.133 627.438C917.714 609.981 928.3 589.773 933.886 566.814C934.637 564.365 933.83 562.748 931.465 561.964C918.384 568.172 906.409 576.032 895.541 585.54C879.75 599.635 866.699 615.847 856.387 634.174C852.857 641.336 849.402 648.519 846.027 655.729C843.99 653.003 842.152 650.128 840.511 647.107C836.719 639.692 833.221 632.148 830.016 624.474C829.594 622.537 830.04 620.831 831.362 619.355C845.279 605.425 858.196 590.695 870.111 575.167C887.799 550.699 900.446 523.755 908.053 494.334C909.189 488.048 909.278 481.762 908.322 475.474C906.885 473.857 905.317 473.722 903.613 475.069C896.835 481.768 890.151 488.55 883.566 495.412C859.312 522.313 841.463 553.121 830.016 587.83C828.246 595.369 826.184 602.822 823.827 610.194C823.515 610.595 823.292 610.552 823.154 610.059C820.905 604.7 818.617 599.357 816.292 594.027C814.966 591.355 813.529 588.749 811.987 586.214C809.151 580.55 809.328 574.981 812.525 569.508C819.586 560.126 826.583 550.696 833.514 541.217C845.338 524.913 855.386 507.489 863.653 488.946C876.987 456.804 882.457 423.393 880.068 388.714C878.596 387.221 876.935 386.997 875.089 388.04C869.027 396.18 863.333 404.578 858.002 413.233C851.859 423.56 845.581 433.799 839.165 443.949C831.9 456.702 825.802 469.993 820.867 483.826C812.078 508.652 805.128 533.98 800.012 559.809C796.624 554.552 793.172 549.343 789.652 544.181C787.408 540.22 787.05 536.09 788.576 531.787C793.799 520.699 799.092 509.652 804.452 498.645C810.162 483.293 815.006 467.665 818.983 451.763C826.375 423.232 832.834 394.49 838.358 365.542C842.037 345.269 844.146 324.837 844.682 304.244C844.886 295.258 843.587 286.501 840.78 277.974C839.507 274.568 837.847 271.38 835.802 268.408C833.606 267.314 831.857 267.808 830.554 269.89C803.134 331.571 784.747 395.878 775.39 462.81C773.485 475.587 772.766 488.431 773.237 501.34C773.439 505.403 773.843 509.445 774.448 513.465C774.279 514.758 773.56 515.251 772.296 514.947C765.883 505.112 759.468 495.277 753.055 485.443C752.175 483.611 751.683 481.681 751.575 479.65C752.897 471.313 754.377 463.007 756.015 454.727C758.722 446.592 761.325 438.42 763.819 430.208C772.524 396.589 778.086 362.459 780.503 327.82C781.517 311.279 781.337 294.754 779.965 278.243C777.034 248.184 765.775 221.825 746.193 199.162C744.041 197.607 742.38 198.012 741.215 200.375C735.946 272.396 733.794 344.517 734.757 416.736C735.05 431.595 736.799 446.28 740.004 460.789C739.959 461.013 739.916 461.239 739.87 461.463C738.783 460.466 737.798 459.388 736.91 458.229C733.519 453.148 729.932 448.206 726.146 443.41C724.905 440.942 724.098 438.337 723.724 435.596C723.544 430.835 723.544 426.077 723.724 421.316C724.453 398.327 725.08 375.333 725.608 352.339C726.73 317.49 724.755 282.821 719.688 248.335C714.163 213.51 704.653 179.83 691.164 147.295C688.546 141.779 685.585 136.479 682.284 131.398C678.274 125.589 674.06 119.93 669.636 114.423C668.178 112.327 666.472 112.057 664.524 113.615C662.535 159.616 664.957 205.421 671.789 251.029C673.396 261.408 675.279 271.739 677.44 282.015C683.312 308.321 689.143 334.637 694.931 360.961C697.985 373.019 701.126 385.055 704.349 397.066C706.478 404.697 708.857 412.241 711.48 419.699C710.393 419.559 709.543 419.02 708.924 418.083C700.157 405.826 691.457 393.521 682.822 381.169C677.736 374.28 672.443 367.544 666.945 360.961C665.301 359.105 664.225 356.949 663.716 354.495C663.062 349.647 662.435 344.798 661.833 339.945C660.509 323.929 658.894 307.941 656.989 291.984C652.242 251.232 641.118 212.343 623.621 175.317C611.725 149.504 597.909 124.896 582.181 101.49C578.158 95.7562 574.033 90.0979 569.803 84.5151C568.662 82.9066 567.359 81.4247 565.901 80.0694C563.282 79.4119 561.937 80.4439 561.864 83.1679C563.56 103.171 566.743 122.929 571.417 142.445C581.357 182.721 594.721 221.79 611.512 259.652C622.12 282.33 631.987 305.322 641.112 328.628C641.309 329.267 641.535 329.895 641.785 330.514C641.696 330.603 641.605 330.695 641.516 330.784C632.789 321.569 624.313 312.139 616.087 302.493C615.637 301.595 615.191 300.695 614.741 299.798C605.412 264.14 592.945 229.652 577.337 196.333C567.776 176.548 556.924 157.598 544.777 139.481C533.483 123.859 521.374 108.859 508.449 94.4844C497.457 82.2141 485.035 71.749 471.18 63.0946C470.087 61.9091 468.785 61.0549 467.278 60.5349C465.556 60.7774 464.614 61.7663 464.452 63.4988C464.991 65.6085 465.663 67.6724 466.471 69.6959C481.206 103.608 497.979 136.388 516.791 168.042C525.717 182.861 534.775 197.591 543.97 212.23C553.388 225.883 562.806 239.532 572.224 253.185C574.896 257.364 577.361 261.675 579.624 266.118C579.536 266.207 579.444 266.299 579.355 266.388C564.119 252.247 548.062 239.179 531.188 227.184C528.949 225.257 527.2 222.967 525.94 220.313C516.689 197.475 506.555 175.023 495.533 152.953C482.307 127.243 465.311 104.297 444.539 84.111C438.606 78.6737 432.236 73.8237 425.434 69.5612C421.847 67.6751 418.257 65.789 414.67 63.9029C413.303 63.2617 412.092 63.4853 411.037 64.5765C410.515 65.2474 410.2 66.01 410.095 66.8668C415.348 86.0536 422.659 104.421 432.027 121.967C439.198 135.434 446.913 148.548 455.169 161.306C463.349 172.552 472.138 183.33 481.54 193.639C481.725 193.862 481.68 194.043 481.405 194.177C469.6 187.433 457.76 180.74 445.885 174.104C440.037 170.459 434.475 166.417 429.201 161.979C425.802 158.487 422.708 154.761 419.917 150.798C415.208 143.342 410.634 135.798 406.194 128.165C401.42 119.922 395.188 112.963 387.492 107.283C379.849 102.064 371.685 97.7528 363.004 94.3497C361.083 91.6634 359.11 89.0121 357.084 86.4012C353.637 83.9843 350.23 81.5136 346.858 78.9916C340.72 77.4881 334.574 76.0062 328.425 74.5458C325.861 75.1548 323.305 75.7826 320.756 76.4319C319.761 68.2894 318.415 60.2062 316.72 52.1823Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.998"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M328.291 114.962C342.181 138.829 357.027 162.09 372.826 184.747C383.189 199.213 393.683 213.583 404.31 227.858C427.581 257.895 450.545 288.161 473.198 318.659C487.589 338.49 501.044 358.967 513.562 380.092C525.464 400.512 535.332 421.89 543.162 444.218C557.97 487.566 560.303 531.574 550.159 576.244C536.723 628.925 506.719 669.029 460.147 696.55C418.731 719.592 374.419 728.662 327.214 723.763C286.388 719.371 250.329 704.102 219.039 677.958C189.522 651.699 169.743 619.32 159.704 580.825C153.054 556.344 150.721 531.463 152.707 506.19C154.903 488.186 159.569 470.85 166.7 454.188C173.005 439.676 180.09 425.576 187.958 411.886C204.419 384.664 221.552 357.9 239.355 331.592C262.81 295.948 282.631 258.226 298.825 218.427C312.245 184.976 322.067 150.488 328.291 114.962ZM424.088 297.373C444.243 323.083 463.214 349.669 481.001 377.128C492.758 395.641 502.984 415.041 511.678 435.327C523.551 463.112 529.697 492.122 530.111 522.356C530.299 552.092 523.884 580.294 510.871 606.961C493.146 640.425 467.089 665.079 432.699 680.922C388.678 700.672 343.47 703.905 297.076 690.622C259.809 679.33 230.163 657.731 208.14 625.822C206.951 623.962 205.829 622.076 204.777 620.163C226.32 647.767 253.948 666.671 287.658 676.88C318.213 685.821 349.07 686.987 380.226 680.383C417.024 672.413 447.386 654.045 471.314 625.283C488.221 603.45 499.163 578.842 504.144 551.456C509.582 522.1 508.775 492.912 501.722 463.888C496.34 442.16 488.986 421.144 479.656 400.839C469.28 378.62 458.067 356.887 446.019 335.634C438.641 322.905 431.329 310.153 424.088 297.373Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.978"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M416.284 176.934C416.769 176.756 417.307 176.664 417.899 176.664C423.633 177.044 429.373 177.268 435.121 177.338C437.112 177.642 438.996 178.273 440.772 179.224C448.756 184.882 456.737 190.54 464.721 196.199C475.813 203.581 486.935 210.899 498.089 218.158C491.959 218.444 485.947 217.678 480.06 215.868C465.136 211.484 450.244 206.995 435.39 202.396C428.918 193.962 422.549 185.475 416.284 176.934Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.984"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M522.038 237.827C524.293 237.517 526.357 238.01 528.227 239.309C549.432 256.224 569.837 274.142 589.446 293.062C590.407 294.269 591.08 295.617 591.464 297.104C585.536 295.913 579.705 294.339 573.973 292.389C566.439 289.336 558.904 286.28 551.369 283.228C540.875 279.186 530.2 275.683 519.347 272.72C506.813 269.403 494.254 266.169 481.674 263.02C477.011 256.911 472.345 250.806 467.681 244.698C475.574 244.609 483.469 244.517 491.362 244.428C502.045 244.167 512.27 241.966 522.038 237.827Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.682"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M423.017 295.757C422.587 295.622 422.451 295.352 422.609 294.948C422.892 295.148 423.028 295.417 423.017 295.757Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.765"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M423.012 295.757C423.283 295.846 423.465 296.027 423.555 296.297C423.194 296.297 423.012 296.116 423.012 295.757Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.985"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M515.042 308.959C524.274 310.326 533.604 311.538 543.027 312.597C563.253 314.812 583.48 314.858 603.708 312.732C607.723 312.944 610.952 314.653 613.395 317.851C622.615 327.616 631.226 337.854 639.228 348.567C643.434 352.776 647.021 357.448 649.992 362.578C650.649 363.985 651.233 365.421 651.741 366.889C642.657 364.472 633.596 361.735 624.563 358.671C603.872 351.051 583.152 343.507 562.402 336.038C550.062 331.889 537.726 327.801 525.402 323.779C522.089 318.716 518.637 313.777 515.042 308.959Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.989"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M652.549 375.781C656.564 374.951 659.927 376.028 662.64 379.014C676.961 397.128 690.238 415.989 702.466 435.596C703.69 437.903 703.017 439.161 700.447 439.369C692.698 438.401 685.074 436.828 677.574 434.653C653.176 425.762 628.78 416.87 604.381 407.979C592.191 403.792 579.902 399.928 567.515 396.393C564.386 390.174 561.382 383.931 558.5 377.667C574.923 378.92 591.381 379.324 607.879 378.879C622.833 378.165 637.722 377.133 652.549 375.781Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.983"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M585.544 447.183C604.335 449.354 623.172 451.017 642.054 452.167C664.351 452.771 686.643 452.547 708.924 451.494C711.531 451.345 713.684 452.243 715.382 454.188C722.435 464.761 729.386 475.404 736.237 486.117C732.502 486.392 728.823 486.031 725.204 485.039C697.568 477.988 669.763 471.699 641.785 466.178C624.044 463.026 606.195 460.735 588.235 459.307C587.296 455.274 586.4 451.232 585.544 447.183Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.984"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M737.852 497.029C741.519 496.439 744.434 497.606 746.597 500.532C751.508 508.48 756.352 516.475 761.128 524.512C761.849 526.832 761.042 528.179 758.706 528.554C733.923 524.725 709.12 520.998 684.302 517.372C655.167 513.055 625.927 512.023 596.577 514.273C596.464 509.221 596.104 504.191 595.501 499.185C596.443 499.096 597.385 499.004 598.326 498.915C622.763 499.758 647.205 500.163 671.655 500.128C693.801 499.915 715.867 498.883 737.852 497.029Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
              <path
                opacity="0.985"
                fill-rule="evenodd"
                clip-rule="evenodd"
                d="M749.423 536.098C754.716 536.052 760.009 536.098 765.299 536.233C767.272 536.57 768.752 537.602 769.739 539.332C773.956 547.234 778.17 555.14 782.387 563.042C783.28 565.203 782.607 566.55 780.368 567.084C748.457 561.342 716.343 559.86 684.033 562.638C651.475 565.492 619.811 572.05 589.043 582.307C591.338 573.561 593.13 564.713 594.425 555.767C613.043 554.032 631.611 551.831 650.127 549.166C671.383 545.909 692.641 542.675 713.902 539.466C725.742 537.895 737.582 536.772 749.423 536.098Z"
                fill="#4DA57B"
                fill-opacity="0.1"
              />
            </svg>
            <div className="title">
              <h4>Do you wanna talk to us? Drop us a message!</h4>
            </div>
            <div className="support-text">
              <span>We will get back to you as soon as possible!</span>
            </div>
            <form onSubmit={handleOnFormSubmit}>
              <div className="row-normal">
                <input
                  type="text"
                  name="name"
                  placeholder="Your Full Name"
                  required
                />
              </div>
              <div className="row-breaking">
                <input
                  type="email"
                  name="email"
                  placeholder="Your Email"
                  required
                />
                <input
                  type="number"
                  name="phone_number"
                  placeholder="Your Phone Number"
                  required
                />
              </div>
              <div className="row-normal">
                <textarea
                  name="message"
                  id=""
                  cols="30"
                  rows="10"
                  placeholder="Message"
                  required
                ></textarea>
              </div>
              <div className="submitter">
                {!isSending ? (
                  <motion.button whileTap={{ scale: 0.9 }} type="submit">
                    Submit
                  </motion.button>
                ) : (
                  ""
                )}
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  );
}
